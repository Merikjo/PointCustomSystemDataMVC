@model IEnumerable<PointCustomSystemDataMVC.ViewModels.TreatmentOfficeViewModel>

@{
    ViewBag.Title = "Index";
}
<title>PointCollege Ajanvarausohjelmisto</title>
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<link rel="stylesheet" href="/lib/w3.css">
<script src="/lib/w3.js"></script>

<script src="~/Scripts/modernizr-2.8.3.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="/Scripts/bootstrap.js"></script>
<script src="/Scripts/respond.js"></script>
<script src="http://maps.googleapis.com/maps/api/js"></script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB_Jxx0pa197zGwfVh7jZUks0k1SJnB7ow&callback=initMap"
          async defer></script>

<!-- !SIDEMENU CONTENT! -->
@{ Html.RenderAction("SideMenu", "Customers");}

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-left:250px">

    <!-- Push down content on small screens -->
    <div class="w3-hide-large" style="margin-top:83px"></div>

    <!-- Container -->
    <div class="w3-container">

        <h2>Toimipistehallinta</h2>

        @*<div id="googleMap" style="width:300px;height:300px;"></div>*@
        <div id="map" style="width:300px;height:300px"></div>
 <br /><br />

        <p><a href="/TreatmentOffices/Create" class="w3-btn w3-small">Uusi toimipiste</a></p>

        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.TreatmentOfficeName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Address)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PhoneNum_1)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PostalCode)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.PostOffice)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Note)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.MapPlace)
                </th>

                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.TreatmentOfficeName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Address)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PhoneNum_1)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PostalCode)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PostOffice)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Note)
                    </td>
                    <td id="map" style="width:300px;height:300px">
                        @Html.DisplayFor(modelItem => item.MapPlace)
                    </td>

                    <td>
                        @Html.ActionLink("Muokkaa", "Edit", new { id = item.TreatmentOffice_id }) |
                        @Html.ActionLink("Tiedot", "Details", new { id = item.TreatmentOffice_id }) |
                        @Html.ActionLink("Poista", "Delete", new { id = item.TreatmentOffice_id })
                    </td>
                </tr>
            }

        </table>
    </div><!-- End content -->
</div><!-- End page content -->
    
@*<script>

        var myCenter = new google.maps.LatLng(60.3955224, 25.6640321);

        function initialize() {
            var mapProp = {
                center: myCenter,
                zoom: 15,
                mapTypeId: google.maps.MapTypeId.SATELLITE
            };

            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);

            var marker = new google.maps.Marker({
                position: myCenter,
            });

            marker.setMap(map);
        }

        google.maps.event.addDomListener(window, 'load', initialize);
    </script>*@

<script>
    function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 15,
            center: { lat: 60.3955224, lng: 25.6640321 },
            mapTypeControl: Boolean
        });

        var marker = new google.maps.Marker({
            position: map.getCenter(),
            icon: {
                path: google.maps.SymbolPath.CIRCLE,
                scale: 10
            },
            draggable: true,
            map: map
        });
    }
</script>